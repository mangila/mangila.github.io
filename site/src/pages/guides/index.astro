---
import MailtoLink from "../../components/MailtoLink.astro";
import CardLayout from "../../layouts/CardLayout.astro";
import Layout from "../../layouts/Layout.astro";
import { getGitHubGistsAsync } from "../../shared/github";
import { GITHUB_USERNAME } from "../../shared/utils";
import GistCard from "./_components/GistCard.astro";

const gists = await getGitHubGistsAsync(GITHUB_USERNAME);
---

<Layout>
  <MailtoLink text="For my closed source projects, please send me an email" />
  <CardLayout>
    {gists.map((gist) => <GistCard gist={gist} />)}
  </CardLayout>
</Layout>
