---
import CardLayout from "../../layouts/CardLayout.astro";
import Layout from "../../layouts/Layout.astro";
import { getGitHubRepositoriesAsync } from "../../shared/github.ts";
import { GITHUB_USERNAME } from "../../shared/utils.ts";
import RepositoryCard from "./_components/RepositoryCard.astro";

const repositories = await getGitHubRepositoriesAsync(GITHUB_USERNAME);
---

<Layout>
  <p class="text-center bg-base-200 underline text-center">
    For my closed source projects, please ask
  </p>
  <CardLayout>
    {repositories.map((repo) => <RepositoryCard repository={repo} />)}
  </CardLayout>
</Layout>
